<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Elixir and the Pipe macro</title>
  <meta name="description" content="In which I show how awesome Elixir's pipe macro is">
  <meta name="author" content="Paul Woolcock">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta property="og:title" content="Elixir and the Pipe macro">
  <meta property="og:description" content="In which I show how awesome Elixir's pipe macro is">
  <meta property="og:image" content="">
  <link rel="stylesheet" href="/css/normalize.css?v=">
  <link rel="stylesheet" href="/css/skeleton.css?v=">
  <link rel="stylesheet" href="/css/style.css?v=">
  <link rel="stylesheet" href="/css/syntax.css?v=">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="/js/libs/modernizr-2.0.6.min.js"></script>
</head>
<body>
  <div class="left-side">
    <nav class="hide-on-mobile">
      <ul>
        <ul>
  <li><a href="/">Posts</a></li>
  <li><a href="/rss.xml">RSS</a></li>
  <li><a href="/blogroll.html">Blogroll</a></li>
  <li><a class="fa fa-twitter mentions-twitter" href="https://twitter.com/pauldwoolcock">@pauldwoolcock</a></li>
  <li><a class="fa fa-github mentions-github" href="https://github.com/pwoolcoc">@pwoolcoc</a></li>
  <li><a href="http://stackoverflow.com/users/35288/paul-woolcock">StackOverflow</a></li>
  <li><a href="/resume.html">Résumé</a></li>
</ul>

      </ul>
    </nav>
  </div>
  <div xmlns:dc="http://purl.org/dc/elements/1.1/" class="right-side">
    <h1 property="dc:title" class="h1">Elixir and the Pipe macro</h1>
    <p>In my <a href="http://paul.woolcock.us/posts/simple-python-generator-example.html">Simple Python Generator</a> post, I showed how you could use generators to make a pipeline of functions to transform data. Today I am going to show how cool this same technique looks when used in <a href="http://elixir-lang.org">Elixir</a>.</p>

<p>In my python example, we assembled our pipeline like so:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt;&gt;&gt; for result in double(cube(plus_one_half(xrange(10)))):
...     print(result)
</code></pre>
</div>

<p>You see how we had to write the functions in the reverse order than they are actually executed?</p>

<p>Elixir solves this readability issue through use of the the Pipe macro. Here is the code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>iex(1)&gt; 0..9 |&gt;
...(1)      Stream.map(&amp;(&amp;1 + 0.5)) |&gt; 
...(1)      Stream.map(fn x -&gt; x * x * x end) |&gt;
...(1)      Stream.map(&amp;(&amp;1 * 2)) |&gt;
...(1)      Enum.into([])
[0.25, 6.75, 31.25, 85.75, 182.25, 332.75, 549.25, 843.75, 1228.25, 1714.75]    
</code></pre>
</div>

<p>Isn’t that so much better? Even more, the Stream module implements lazy iterators, so we get the same benefits that the python generators give us, in terms of memory usage.</p>
<br/>
	<div class="italic">
	- <span class="signature" property="dc:creator">Paul Woolcock</span>, <span property="dc:date">27 Jun 2014</span>
	</div>
    <a href="/changelogs/elixir-pipe.txt">Changelog</a>
	<div class="license">
		<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">
			<img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
	</div>
  </div>
  <footer>
    <nav id="mobile-menu" class="hide-on-desktop">
      <ul>
        <ul>
  <li><a href="/">Posts</a></li>
  <li><a href="/rss.xml">RSS</a></li>
  <li><a href="/blogroll.html">Blogroll</a></li>
  <li><a class="fa fa-twitter mentions-twitter" href="https://twitter.com/pauldwoolcock">@pauldwoolcock</a></li>
  <li><a class="fa fa-github mentions-github" href="https://github.com/pwoolcoc">@pwoolcoc</a></li>
  <li><a href="http://stackoverflow.com/users/35288/paul-woolcock">StackOverflow</a></li>
  <li><a href="/resume.html">Résumé</a></li>
</ul>

      </ul>
    </nav>
  </footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="/js/libs/jquery-1.7.0.min.js"><\/script>')</script>
  <!--<script defer src="/js/plugins.js"></script>
  <script defer src="/js/script.js"></script>-->
  <!--[if lt IE 7]>
    <script defer src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script defer>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
  <![endif]-->
</body>
</html>

